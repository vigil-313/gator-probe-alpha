/* VALUGATOR Probe Alpha - Enhanced Styles */

:root {
  --primary-color: #2c7a7b;
  --primary-light: #4fd1c5;
  --primary-dark: #285e61;
  --secondary-color: #4a5568;
  --secondary-light: #a0aec0;
  --tech-blue: #3182ce;
  --tech-blue-light: #bee3f8;
  --tech-purple: #805ad5;
  --tech-purple-light: #e9d8fd;
  --gator-green: #38a169;
  --gator-green-light: #c6f6d5;
  --accent-color: #ed8936;
  --accent-light: #feebc8;
  --bg-color: #f7fafc;
  --bg-secondary: #edf2f7;
  --bg-gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--tech-blue) 100%);
  --bg-card: rgba(255, 255, 255, 0.9);
  --text-color: #2d3748;
  --text-light: #e2e8f0;
  --text-muted: #718096;
  --border-color: #e2e8f0;
  --success-color: #48bb78;
  --error-color: #f56565;
  --border-radius: 10px;
  --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
  --transition: all 0.3s ease;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  line-height: 1.6;
  color: var(--text-color);
  background-color: var(--bg-color);
  background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.05"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  background-color: var(--bg-card);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

header {
  text-align: center;
  padding: 30px 20px;
  background-image: var(--bg-gradient);
  color: white;
  position: relative;
  overflow: hidden;
}

.header-graphics {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.1;
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Cpath fill="%23FFFFFF" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z"%3E%3CanimateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 50 50" to="360 50 50" dur="10s" repeatCount="indefinite" /%3E%3C/path%3E%3Cpath fill="%23FFFFFF" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z"%3E%3CanimateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 50 50" to="-360 50 50" dur="15s" repeatCount="indefinite" /%3E%3C/path%3E%3C/svg%3E');
}

.logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 15px;
}

.logo {
  width: 50px;
  height: 50px;
  margin-right: 15px;
  background-color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow);
}

.logo svg {
  width: 30px;
  height: 30px;
  fill: var(--primary-color);
}

header h1 {
  margin-bottom: 10px;
  font-size: 2rem;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.valugator-link {
  color: white;
  text-decoration: none;
  position: relative;
  display: inline-block;
  transition: transform 0.3s ease;
}

.valugator-link:hover {
  transform: scale(1.05);
}

.valugator-link::after {
  content: '\f09b'; /* GitHub icon Unicode from Font Awesome */
  font-family: 'Font Awesome 5 Brands', sans-serif;
  position: absolute;
  top: 5px;
  right: -25px;
  font-size: 0.7em;
  opacity: 0.7;
}

/* Fallback for Font Awesome */
@supports not (content: '\f09b') {
  .valugator-link::after {
    content: '[gh]';
    font-size: 0.6em;
  }
}

header p {
  opacity: 0.9;
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto;
}

main {
  padding: 30px 20px;
}

#form-container {
  margin-bottom: 30px;
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  padding: 25px;
  position: relative;
  overflow: hidden;
}

.tech-graphics {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 80px;
  height: 80px;
  opacity: 0.07;
  pointer-events: none;
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cpath fill="%234A5568" d="M65.1,21.4c-0.6-0.7-1.5-1.1-2.5-1.1c-1,0-1.9,0.4-2.5,1.1L46,36.5c-0.6,0.7-0.9,1.5-0.9,2.4v14.3c0,1.9,1.5,3.5,3.4,3.5h14.3c0.9,0,1.8-0.3,2.4-0.9l15.1-14.2c0.7-0.6,1.1-1.5,1.1-2.5c0-1-0.4-1.9-1.1-2.5L65.1,21.4z M62.6,50H50V37.4l12.6-11.9l11.9,12.6L62.6,50z M25,60h50v10H25V60z M10,25h10v50H10V25z M10,25h10v50H10V25z M25,10h50v10H25V10z"%3E%3C/path%3E%3C/svg%3E');
}

.gator-graphics {
  position: absolute;
  bottom: 10px;
  left: 10px;
  width: 60px;
  height: 60px;
  opacity: 0.07;
  pointer-events: none;
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cpath fill="%2338A169" d="M80,40c-2.8,0-5-2.2-5-5c0-0.6,0.1-1.1,0.3-1.6C68.5,31.1,61.2,30,55,30c-3.3,0-6,2.7-6,6s2.7,6,6,6c2.2,0,4.1-1.2,5.2-3h2.1c-1.3,3-4.2,5-7.4,5c-4.4,0-8-3.6-8-8s3.6-8,8-8c12.8,0,26.8,4.6,28.6,7.3c0.4-0.8,1.2-1.3,2.2-1.3c1.4,0,2.5,1.1,2.5,2.5S79.4,40,78,40c-1,0-1.8-0.5-2.2-1.3c-0.4,0.4-0.9,0.8-1.5,1.1c0.5,0.5,0.7,1.2,0.7,2c0,1.7-1.3,3-3,3s-3-1.3-3-3c0-0.8,0.3-1.5,0.7-2c-3.1-1.5-9.5-2.9-16.6-3.3C50.9,39.4,47.2,42,45,42H30c-3.9,0-7-3.1-7-7c0-3.1,2.1-5.7,4.9-6.7C26.1,25.6,25,22.9,25,20c0-5.5,4.5-10,10-10s10,4.5,10,10c0,2.9-1.1,5.6-3,7.4c0.9,0.1,1.7,0.3,2.5,0.6c-1.9,1.7-3,4.2-3,7c0,3.2,1.6,6,4,7.7c-3,0.2-5.8,0.6-8.3,1.2c0.5,0.5,0.8,1.2,0.8,2c0,1.7-1.3,3-3,3s-3-1.3-3-3c0-0.8,0.3-1.5,0.8-2c-9.4,2.1-16.2,6-18,8.6C13.6,52.9,13,53,12.5,53c-1.4,0-2.5-1.1-2.5-2.5S11.1,48,12.5,48c1,0,1.8,0.5,2.2,1.3c2.5-3.6,12.9-8.5,26.9-9.2C43.3,39.5,45,38.9,46.6,38h-3c-1.1,1.8-3,3-5.2,3c-3.3,0-6-2.7-6-6s2.7-6,6-6c0.5,0,1,0.1,1.5,0.2c1.3-1.4,2-3.3,2-5.2c0-4.4-3.6-8-8-8s-8,3.6-8,8c0,3.2,1.9,6,4.6,7.3c-2.3,1.5-3.8,4.1-3.8,7.1c0,2.8,1.4,5.2,3.5,6.7c-2.2,0.9-4.1,1.9-5.7,2.9c0.5,0.5,0.8,1.2,0.8,2c0,1.7-1.3,3-3,3s-3-1.3-3-3c0-0.8,0.3-1.5,0.8-2c-2.6,1.7-4.2,3.3-4.9,4.6c0.4,0.4,0.7,1,0.7,1.6c0,1.4-1.1,2.5-2.5,2.5S10,54.4,10,53c0-1.4,1.1-2.5,2.5-2.5c0.2,0,0.4,0,0.5,0.1c1.2-2.2,5.4-6.1,14.2-9.3C25.8,39.8,25,37.9,25,35.9c0-2.7,1.5-5.1,3.7-6.4c-2.7-1.4-4.6-4.2-4.6-7.4c0-4.6,3.7-8.3,8.3-8.3s8.3,3.7,8.3,8.3c0,2-0.7,3.9-1.9,5.3c0.7,0.3,1.3,0.7,1.9,1.2C42.4,26.7,44,24.5,44,22c0-4.9-4-8.9-8.9-8.9c-4.9,0-8.9,4-8.9,8.9c0,2.5,1.1,4.8,2.8,6.4c-2.3,1.4-3.9,3.9-3.9,6.8c0,2.7,1.3,5,3.4,6.5c-5.6,2-9.9,4.6-12.5,7.1c0.6,0.6,1,1.5,1,2.4c0,1.9-1.5,3.4-3.4,3.4s-3.4-1.5-3.4-3.4c0-0.9,0.4-1.8,1-2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4s-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,1.9,1.5,3.4,3.4,3.4c0.1,0,0.2,0,0.3,0c0.6,0.6,1,1.5,1,2.4c0,1.9-1.5,3.4-3.4,3.4s-3.4-1.5-3.4-3.4c0-0.9,0.4-1.8,1-2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0C4.4,7.8,5,7,5,6.1C5,4.2,3.5,2.7,1.6,2.7S-1.8,4.2-1.8,6.1S-0.3,9.5,1.6,9.5c0.1,0,0.2,0,0.3,0c0.6,0.6,1,1.5,1,2.4c0,1.9-1.5,3.4-3.4,3.4s-3.4-1.5-3.4-3.4c0-0.9,0.4-1.8,1-2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0C-2.8,0.9-2.4,0.1-2.4-0.8c0-1.9-1.5-3.4-3.4-3.4s-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0C-7.6-7-7.2-7.8-7.2-8.7c0-1.9-1.5-3.4-3.4-3.4s-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0c0.6-0.6,1-1.4,1-2.3c0-1.9-1.5-3.4-3.4-3.4c-1.9,0-3.4,1.5-3.4,3.4c0,0.9,0.4,1.8,1,2.4c-0.1,0-0.2,0-0.3,0c-2.2,0-4-1.8-4-4s1.8-4,4-4c0.1,0,0.2,0,0.3,0"%3E%3C/path%3E%3C/svg%3E');
}

.form-group {
  margin-bottom: 20px;
  position: relative;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: var(--secondary-color);
  transition: var(--transition);
}

.form-group label .required {
  color: var(--error-color);
  margin-left: 4px;
}

/* Gator selection UI */
.gator-selection {
  margin-bottom: 25px;
}

.selection-info {
  margin-bottom: 10px;
}

.panel-legend {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 12px;
}

.legend-item {
  display: flex;
  align-items: center;
  font-size: 13px;
  color: var(--text-color);
}

.legend-item .dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 5px;
}

.legend-item.evaluation .dot {
  background-color: var(--gator-green);
}

.legend-item.pathfinder .dot {
  background-color: var(--tech-purple);
}

.legend-item.legal .dot {
  background-color: var(--tech-blue);
}

/* All personas container */
.all-personas-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 6px;
  padding: 12px;
  background-color: var(--bg-secondary);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  max-height: 170px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  overscroll-behavior: contain; /* Prevent scroll chaining */
  touch-action: pan-y; /* Allow vertical scrolling on touch devices */
}

/* Loading indicator for personas */
.loading-personas {
  grid-column: 1 / -1;
  text-align: center;
  padding: 20px;
  color: var(--text-muted);
  font-style: italic;
}

/* Persona tile styling */
.persona-tile {
  position: relative;
  background-color: white;
  border-radius: var(--border-radius);
  padding: 6px 4px;
  text-align: center;
  cursor: pointer;
  transition: var(--transition);
  border: 1px solid transparent;
  box-shadow: var(--shadow);
  aspect-ratio: 1/1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* For proper popup positioning */
  overflow: visible;
}

.persona-tile:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  z-index: 1;
}

.persona-tile.selected {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(44, 122, 123, 0.2);
}

.persona-tile.evaluation {
  border-top: 3px solid var(--gator-green);
}

.persona-tile.pathfinder {
  border-top: 3px solid var(--tech-purple);
}

.persona-tile.legal {
  border-top: 3px solid var(--tech-blue);
}

.persona-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin: 0 auto 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: bold;
  color: white;
}

.persona-tile.evaluation .persona-avatar {
  background-color: var(--gator-green);
}

.persona-tile.pathfinder .persona-avatar {
  background-color: var(--tech-purple);
}

.persona-tile.legal .persona-avatar {
  background-color: var(--tech-blue);
}

.persona-tile h5 {
  font-size: 9px;
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  line-height: 1.2;
  font-weight: 600;
  letter-spacing: 0.03em;
}

/* Persona popup (separate element) */
.persona-popup {
  position: fixed;
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  padding: 15px;
  z-index: 100000; /* Ensure it's above ALL elements */
  text-align: left;
  pointer-events: auto; /* Changed to allow interaction on mobile */
  border: 1px solid rgba(0,0,0,0.1);
  animation: fadeIn 0.15s ease-in;
  overscroll-behavior: contain; /* Prevent scroll chaining */
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}

/* Close button for mobile */
.popup-close-button {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: var(--bg-secondary);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  z-index: 1;
}

.popup-close-button:hover,
.popup-close-button:active {
  background-color: var(--border-color);
  color: var(--text-color);
}

/* Arrow for popup - default top */
.persona-popup:before {
  content: '';
  position: absolute;
  top: -8px;
  left: 125px; /* Center relative to popup */
  transform: rotate(45deg);
  width: 16px;
  height: 16px;
  background-color: white;
  border-top: 1px solid rgba(0,0,0,0.1);
  border-left: 1px solid rgba(0,0,0,0.1);
}

/* Arrow for bottom popup */
.persona-popup.arrow-bottom:before {
  top: auto;
  bottom: -8px;
  border-top: none;
  border-left: none;
  border-right: 1px solid rgba(0,0,0,0.1);
  border-bottom: 1px solid rgba(0,0,0,0.1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Remove hover rule as we're using JS for popups now */

/* Remove the arrow for fixed positioned popup */

.detail-panel-type {
  display: inline-block;
  font-size: 12px;
  font-weight: bold;
  padding: 3px 8px;
  border-radius: 12px;
  margin-bottom: 8px;
}

.detail-panel-type.evaluation {
  background-color: var(--gator-green-light);
  color: var(--gator-green);
}

.detail-panel-type.pathfinder {
  background-color: var(--tech-purple-light);
  color: var(--tech-purple);
}

.detail-panel-type.legal {
  background-color: var(--tech-blue-light);
  color: var(--tech-blue);
}

.detail-archetype {
  font-size: 13px;
  margin: 5px 0;
  color: var(--text-muted);
  font-style: italic;
}

.persona-details h6 {
  font-size: 15px;
  margin: 0 0 5px;
  color: var(--secondary-color);
  font-weight: bold;
}

.persona-details p {
  font-size: 13px;
  margin: 0 0 10px;
  line-height: 1.4;
  color: var(--text-color);
}

.persona-details .expertise-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin-top: 8px;
}

.expertise-tag {
  font-size: 11px;
  padding: 3px 6px;
  background-color: var(--bg-secondary);
  border-radius: 12px;
  color: var(--text-muted);
  display: inline-block;
  margin: 0 4px 4px 0;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .all-personas-container {
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  }
  
  .panel-legend {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .persona-avatar {
    width: 32px;
    height: 32px;
    font-size: 16px;
  }
  
  .persona-tile h5 {
    font-size: 12px;
  }
}

@media (max-width: 480px) {
  .all-personas-container {
    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    gap: 8px;
  }
  
  .persona-avatar {
    width: 28px;
    height: 28px;
    font-size: 14px;
    margin-bottom: 5px;
  }
  
  .persona-tile {
    padding: 6px;
  }
  
  /* Mobile-specific popup styles */
  .persona-popup {
    max-width: 85vw; /* Limit width on mobile */
    width: auto !important; /* Override inline style */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    padding: 18px; /* Larger padding for easier touch interaction */
  }
  
  /* Increase touch target sizes on popup content */
  .persona-popup h6 {
    margin-top: 12px;
    font-size: 16px;
  }
  
  .persona-popup p {
    font-size: 14px;
    line-height: 1.5;
  }
  
  .persona-popup .expertise-tag {
    padding: 5px 8px;
    margin: 0 6px 6px 0;
    font-size: 12px;
  }
  
  /* Make close button more prominent on mobile */
  .popup-close-button {
    width: 28px;
    height: 28px;
    font-size: 20px;
    background-color: var(--bg-color);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
}

.input-wrapper {
  position: relative;
}

select, textarea, input {
  width: 100%;
  padding: 12px 15px;
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  font-size: 16px;
  transition: var(--transition);
  background-color: white;
}

select:focus, textarea:focus, input:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(56, 178, 172, 0.2);
}

select:hover, textarea:hover, input:hover {
  border-color: var(--secondary-light);
}

select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%234a5568' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 40px;
}

textarea {
  resize: vertical;
  min-height: 120px;
  line-height: 1.5;
}

.char-count {
  margin-top: 6px;
  text-align: right;
  font-size: 14px;
  color: var(--text-muted);
  transition: var(--transition);
}

.char-count.warning {
  color: var(--accent-color);
}

.char-count.error {
  color: var(--error-color);
}

/* Character limit visual indicators */
.warning-border {
  border-color: var(--accent-color) !important;
}

.error-border {
  border-color: var(--error-color) !important;
}

.exceed-border {
  border-color: #e53e3e !important;
  border-width: 3px !important;
}

/* Char count backgrounds */
.warning-bg {
  background-color: rgba(237, 137, 54, 0.1);
  padding: 5px 10px;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.error-bg {
  background-color: rgba(245, 101, 101, 0.1);
  padding: 5px 10px;
  border-radius: 4px;
  transition: all 0.3s ease;
}

/* Warning message styling */
.warning-message {
  color: var(--accent-color);
  font-weight: bold;
  margin-top: 8px;
  font-size: 14px;
  animation: slide-in 0.3s ease-out;
}

.exceed-bg {
  background-color: rgba(229, 62, 62, 0.15);
  padding: 8px 12px;
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(229, 62, 62, 0.2);
  transition: all 0.3s ease;
}

/* Exceeded limit message */
.exceed-message {
  color: #e53e3e;
  font-weight: bold;
  margin-top: 8px;
  font-size: 14px;
  animation: slide-in 0.3s ease-out;
}

@keyframes slide-in {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Text color for exceeded characters */
.exceed {
  color: #e53e3e;
  font-weight: bold;
  font-size: 16px;
}

/* Animations for character limit */
.pulse {
  animation: pulse-animation 1.5s infinite;
}

@keyframes pulse-animation {
  0% { opacity: 1; }
  50% { opacity: 0.6; }
  100% { opacity: 1; }
}

.shake {
  animation: shake-animation 0.6s;
}

@keyframes shake-animation {
  0% { transform: translateX(0); }
  20% { transform: translateX(-10px); }
  40% { transform: translateX(10px); }
  60% { transform: translateX(-5px); }
  80% { transform: translateX(5px); }
  100% { transform: translateX(0); }
}

button {
  display: inline-block;
  width: 100%;
  padding: 14px 20px;
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

button::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.5);
  opacity: 0;
  border-radius: 100%;
  transform: scale(1, 1) translate(-50%);
  transform-origin: 50% 50%;
}

button:hover::after {
  animation: ripple 1s ease-out;
}

@keyframes ripple {
  0% {
    transform: scale(0, 0);
    opacity: 0.5;
  }
  20% {
    transform: scale(25, 25);
    opacity: 0.3;
  }
  100% {
    opacity: 0;
    transform: scale(40, 40);
  }
}

button:hover {
  background-color: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

button:active {
  transform: translateY(0);
}

button:disabled {
  background-color: var(--border-color);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  opacity: 0.7;
}

.select-valugator-prompt {
  text-align: center;
  margin-top: 10px;
  font-size: 13px;
  color: var(--accent-color);
  font-style: italic;
}

button .icon {
  margin-right: 8px;
}

.secondary-button {
  background-color: white;
  color: var(--primary-color);
  border: 2px solid var(--primary-color);
}

.secondary-button:hover {
  background-color: var(--bg-secondary);
}

.tech-button {
  background-color: var(--tech-blue);
}

.tech-button:hover {
  background-color: #2c6cb0;
}

.gator-button {
  background-color: var(--gator-green);
}

.gator-button:hover {
  background-color: #2f855a;
}

.accent-button {
  background-color: var(--accent-color);
}

.accent-button:hover {
  background-color: #dd6b20;
}

/* Selected persona info box styling */
#persona-info {
  margin-top: 20px;
  padding: 20px;
  background-color: var(--bg-secondary);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  font-size: 14px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow);
}

.selected-persona-header {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-color);
}

.selected-persona-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin-right: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 28px;
  font-weight: bold;
}

.selected-persona-details {
  flex: 1;
}

.selected-persona-name {
  font-size: 18px;
  font-weight: bold;
  color: var(--primary-color);
  margin-bottom: 4px;
}

.selected-persona-nickname {
  font-style: italic;
  color: var(--text-muted);
  font-size: 14px;
  margin-bottom: 4px;
}

.selected-persona-archetype {
  color: var(--secondary-color);
  font-size: 15px;
}

.selected-persona-description {
  margin-bottom: 15px;
}

.selected-persona-description p {
  line-height: 1.6;
  margin-bottom: 12px;
  color: var(--text-color);
}

.selected-persona-expertise {
  color: var(--text-color);
  line-height: 1.5;
}

#persona-info .tag {
  display: inline-block;
  padding: 3px 8px;
  background-color: var(--primary-light);
  color: var(--primary-dark);
  border-radius: 20px;
  font-size: 12px;
  margin-right: 5px;
  margin-bottom: 5px;
}

.no-personas {
  grid-column: 1 / -1;
  text-align: center;
  padding: 20px;
  color: var(--text-muted);
  font-style: italic;
}

#response-container {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  margin: 30px auto;
  overflow: hidden;
  position: relative;
  max-width: 800px;
}

.response-header {
  padding: 20px;
  background-color: var(--bg-secondary);
  border-bottom: 1px solid var(--border-color);
  position: relative;
}

.response-header h2 {
  margin-bottom: 10px;
  color: var(--secondary-color);
  font-size: 1.5rem;
}

.idea-summary {
  font-size: 15px;
  color: var(--text-muted);
  line-height: 1.5;
}

.response-content {
  padding: 25px;
  position: relative;
}

.persona-header {
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  padding: 0 0 15px 0;
  border-bottom: 1px solid var(--border-color);
}

.persona-header .persona-avatar {
  width: 50px;
  height: 50px;
  font-size: 22px;
  margin-right: 15px;
}

.persona-header .persona-info {
  flex: 1;
}

.persona-header h3 {
  color: var(--primary-color);
  margin-bottom: 5px;
  font-size: 1.3rem;
}

.persona-header p {
  font-size: 14px;
  color: var(--text-muted);
}

.response-box {
  padding: 25px;
  background-color: var(--bg-secondary);
  border-radius: var(--border-radius);
  line-height: 1.6;
  font-size: 15px;
  white-space: pre-line;
  line-height: 1.7;
  margin-bottom: 25px;
  position: relative;
  box-shadow: var(--shadow-inner);
}

.response-box::before {
  content: """;
  position: absolute;
  top: 5px;
  left: 10px;
  font-size: 60px;
  color: var(--primary-color);
  opacity: 0.1;
  line-height: 1;
}

.response-actions {
  padding: 0 25px 25px;
  display: flex;
  justify-content: center;
  gap: 15px;
}

.response-actions button {
  width: auto;
  min-width: 180px;
}

#loading-container {
  text-align: center;
  padding: 50px 30px;
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin: 30px auto;
  max-width: 500px;
}

.loading-spinner {
  display: inline-block;
  width: 60px;
  height: 60px;
  position: relative;
  margin-bottom: 25px;
}

.loading-spinner::before,
.loading-spinner::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 4px solid transparent;
}

.loading-spinner::before {
  border-top-color: var(--primary-color);
  border-right-color: var(--primary-color);
  animation: spin 1s linear infinite;
}

.loading-spinner::after {
  border-bottom-color: var(--tech-blue);
  animation: spin 1.5s linear reverse infinite;
}

.loading-text {
  font-size: 18px;
  color: var(--secondary-color);
  margin-bottom: 10px;
}

.loading-subtext {
  color: var(--text-muted);
  font-size: 14px;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(56, 178, 172, 0.7);
  }
  
  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px rgba(56, 178, 172, 0);
  }
  
  100% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(56, 178, 172, 0);
  }
}

#error-container {
  padding: 40px 30px;
  text-align: center;
  background-color: white;
  border: 1px solid #fed7d7;
  border-radius: var(--border-radius);
  margin: 30px auto;
  max-width: 600px;
  box-shadow: var(--shadow);
}

.error-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 70px;
  height: 70px;
  background-color: #fff5f5;
  border-radius: 50%;
  margin: 0 auto 20px;
  font-size: 32px;
  color: var(--error-color);
}

#error-container h3 {
  color: var(--error-color);
  margin-bottom: 15px;
  font-size: 1.5rem;
}

#error-container p {
  margin-bottom: 25px;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
  color: var(--secondary-color);
}

#error-container button {
  width: auto;
  min-width: 150px;
  background-color: white;
  color: var(--error-color);
  border: 2px solid var(--error-color);
  margin: 0 auto;
}

#error-container button:hover {
  background-color: #fff5f5;
}

.hidden {
  display: none;
}

footer {
  text-align: center;
  padding: 25px 20px;
  background-color: var(--bg-secondary);
  color: var(--text-muted);
  font-size: 14px;
  border-top: 1px solid var(--border-color);
}

.tech-footer {
  margin-top: 10px;
  font-size: 12px;
  opacity: 0.8;
}

.tech-footer a {
  color: var(--tech-blue);
  text-decoration: none;
}

.tech-footer a:hover {
  text-decoration: underline;
}

/* Responsive design */
@media (max-width: 700px) {
  body {
    padding: 0;
  }
  
  .container {
    border-radius: 0;
    box-shadow: none;
    max-width: 100%;
  }
  
  header {
    padding: 20px 15px;
  }
  
  header h1 {
    font-size: 1.7rem;
  }
  
  main {
    padding: 20px 15px;
  }
  
  .panel-selection {
    flex-direction: column;
    gap: 10px;
  }
  
  select, textarea, input, button {
    padding: 12px;
    font-size: 15px;
  }
  
  #persona-info .persona-header {
    flex-direction: column;
    text-align: center;
  }
  
  #persona-info .persona-avatar {
    margin-right: 0;
    margin-bottom: 15px;
  }
  
  #persona-info .persona-details {
    padding-left: 0;
  }
  
  .persona-header {
    flex-direction: column;
    text-align: center;
  }
  
  .persona-header .persona-avatar {
    margin-right: 0;
    margin-bottom: 15px;
  }
  
  .response-actions {
    flex-direction: column;
  }
  
  .response-actions button {
    width: 100%;
  }
}

@media (max-width: 400px) {
  header h1 {
    font-size: 1.5rem;
  }
  
  header p {
    font-size: 0.9rem;
  }
  
  .loading-text {
    font-size: 16px;
  }
  
  #error-container h3 {
    font-size: 1.3rem;
  }
}

/* Animation keyframes */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* Apply animations */
#form-container, #response-container, #loading-container, #error-container {
  animation: fadeIn 0.4s ease forwards;
}

/* Token usage display */
.token-usage {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid var(--border-color);
  font-size: 14px;
}

.token-info {
  color: var(--text-muted);
  font-style: italic;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.form-group, .response-content, .loading-spinner {
  animation: slideIn 0.5s ease forwards;
}

button:not(:disabled):hover {
  animation: pulse 1s infinite;
}